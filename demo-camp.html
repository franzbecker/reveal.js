<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<title>Domain-driven acceptance tests using Xtext</title>

		<meta name="author" content="Franz Becker">


		<link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="css/theme/black.css">

		<!-- Theme used for syntax highlighting of code -->
		<link rel="stylesheet" href="lib/css/zenburn.css">
        
        <!-- CUSTOM styles for this presentation -->
        <style type="text/css">
            .reveal section img { background: none; border: none; box-shadow: none; }
            .reveal pre code { max-height: 600px; }
        </style>

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>
	</head>
	<body>
		<div class="reveal">
			<div class="slides">
				<section>
                    <h2>Domain-driven acceptance tests using Xtext</h2>
                    <br/>
                    <table class="reveal">
                        <tr>
                            <td style="text-align:center">Franz Becker<br/><small>itemis</small></td>
                            <td style="text-align:center">Karsten Panier<br/><small>Signal Iduna</small></td>
                        </tr>
                    </table>
                </section>
				<section>
                    <section><h2>Our Goals</h2></section>
                    <section>
                        <h3>Acceptance tests</h3>
                        <ul>
				            <li class="fragment">Specifies a feature or use-case</li>
				            <li class="fragment">Can be understood by non-developers</li>
                            <li class="fragment">Executed automatically</li>
				        </ul>
                    </section>
                    <section>
                        <h3>Test first</h3>
                        <ul>
				            <li class="fragment">Separation between specification and implementation</li>
				            <li class="fragment">Specifcation should be writable by anyone</li>
				        </ul>
                    </section>
                    <section>
                        <h3>Easy to write tests</h3>
                        <ul>
				            <li class="fragment">Domain experts should be able to write executable tests without programming knowledge</li>
				            <li class="fragment">Test language should be tailorable to a given domain</li>
                            <li class="fragment">Little hand-written, reusable Java code</li>
				        </ul>
                    </section>
                    <section>
                        <h3>Developer friendly and transparent</h3>
                        <ul>
                            <li class="fragment">Tests should be debuggable</li>
                            <li class="fragment">Tests should be supported by the IDE</li>
                            <li class="fragment">Magic happens at compile time, not during runtime</li>
                            <li class="fragment">Compile to plain JUnit code</li>
                            <li class="fragment">Integration for Gradle & Maven</li>
                        </ul>
                    </section>
                </section>
                <section>
                    <section>
                        <h2>Test-Editor</h2>
                    </section>
                    <section>
                        <h3>Existing BDD frameworks</h3>
                        <ul>
				            <li class="fragment">lack an abstraction layer for reusability<br/>(e.g. Cucumber, Gauge, ...)</li>
				            <li class="fragment">lack end-user support</li>
                            <li class="fragment">need too much developer support</li>
				        </ul>
                    </section>
                    <section>
                        <h3>Xtext is awesome and multi-platform</h3>
                        <ul>
				            <li class="fragment">IDE support (Eclipse, IntelliJ)</li>
				            <li class="fragment">Web IDE coming soon</li>
                            <li class="fragment">Proposals, highlighting, formatting, refactoring, ...</li>
				        </ul>
                    </section>
                </section>
                    <section>
                        <section>
                            <h2>Big picture</h2>
                        </section>
                        <section data-background-color="rgba(114, 159, 207, 1)">
                            <img src="demo-camp/big-picture.svg"/>
                        </section>
                    </section>
                    <section>
                        <section>
                            <h2>Test specification</h2>
                        </section>
                        <section>
                            <h3>Markdown</h3>
<pre><code data-trim data-noescape class="markdown">
# GreetingSpec

* Start the famous greetings application.
* Send greetings "Hello World" to the world.
* Stop the famous greeting application.  
</code></pre>
                        </section>
                    </section>
                    <section>
                        <section>
                            <h2>Demo application</h2>
                        </section>
                        <section>
                            <img src="demo-camp/swing-screenshot.png"/>
                        </section>
                    </section>
                    <section>
                        <section>
                            <h2>Application mapping</h2>
                        </section>
                        <section>
                            <h3>Swing application</h3>
<pre><code data-trim data-noescape class="java">
component type Application {
	interactions = start, stop, wait
}

interaction type start {
	template = "Start application" ${path}
	method = SwingFixture.startApplication(path)
}
</code></pre>
<span class="fragment"><i>Reusable: needs to be defined just once for a given technology.</i></span>
                        </section>
                        <section>
                            <h3>Fixture</h3>
<pre><code data-trim data-noescape class="java">
public class SwingFixture {

    @FixtureMethod
    public void startApplication(final String path) {
        // initialize the test driver and start the application
    }

    // â€¦

}
</code></pre>
                        </section>
                        <section>
                            <h3>Basic elements</h3>
<pre><code data-trim data-noescape class="java">
element type Button {
	interactions = clickButton
} 

interaction type clickButton {
	template = "Click on" ${element}
	method = SwingFixture.clickButton(element)
}
</code></pre>
                        </section>
                    
                        <section>
                            <h3>Fixture</h3>
<pre><code data-trim data-noescape class="java">

@FixtureMethod
public void clickButton(String locator) {
    JButtonFixture button = window.button(locator);
    button.click();
}

</code></pre>
                        </section>
                        <section>
                            <h3>Application model</h3>
<pre><code data-trim data-noescape class="java">
component GreetingApplication is Application {
<span class="fragment">
	element Input is Text {
		locator = "text.input"
	}
</span><span class="fragment">
	element Output is Text {
		locator = "text.output"
	}
</span><span class="fragment">
	element GreetButton is Button {
		locator = "button.greet"
	}
</span>
}
</code></pre>
                        </section>                
                    </section>
                    <section>
                        <section>
                            <h2>Test implementation</h2>
                        </section>
                        <section>
                            <h3>Test case language</h3>
<pre><code data-trim data-noescape class="markdown">
# GreetingTest implements GreetingSpec
<span class="fragment">
<b><i>* Start the famous greetings application.</i></b>
<span class="fragment">
    Component: GreetingApplication
    - Start application <font size="-0.1">"org.testeditor.demo.swing.GreetingApplication"</font>
</span>
<b><i>* Send greetings "Hello World" to the world.</i></b>
<span class="fragment">
    Component: GreetingApplication
    - Insert "Hello World" into field &lt;Input&gt;
    - Click on &lt;GreetButton&gt;
    - foo = Read text from &lt;Output&gt;
    - assert foo == "Hello World"
</span>
<b><i>* Stop the famous greeting application.</i></b>
<span class="fragment">
    Component: GreetingApplication
    - Stop application
</span>
</span>
</code></pre>
                        </section>
                    </section>
                    <section>
                        <section>
                            <h2>Demo</h2>
                        </section>
                    </section>
                    <section>
                        <section>
                            <h2>What's next</h2>
                        </section>
                        <section>
                            <h3>Coming right up</h3>
                            <ul>
                                <li class="fragment">Get stable, get out there</li>
                                <li class="fragment">Advanced integration for Vagrant & Docker</li>
                            </ul>
                        </section>
                        <section>
                            <h3>On the agenda</h3>
                            <ul>
                                <li class="fragment">Support BDD-style (Given / When / Then)</li>
                                <li class="fragment">Web version (Eclipse Che)</li>
                                <li class="fragment">JIRA integration</li>
                                <li class="fragment">...</li>
                            </ul>
                        </section>
                        <section>
                            <h3>Get in touch</h3>
                            <br/>
                            <div align="center">
                                franz.becker@itemis.de<br/>
                                karsten.panier@signal-iduna.de<br/>
                                <br/>
                                <img src="demo-camp/github.png" style="vertical-align: middle;"/> &nbsp; https://github.com/test-editor/test-editor-xtext
                            </div>
                        </section>
                    </section>
			</div>
		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.js"></script>

		<script>
			// More info https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				history: true,

				// More info https://github.com/hakimel/reveal.js#dependencies
				dependencies: [
					{ src: 'plugin/markdown/marked.js' },
					{ src: 'plugin/markdown/markdown.js' },
					{ src: 'plugin/notes/notes.js', async: true },
					{ src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } }
				]
			});
		</script>
	</body>
</html>
